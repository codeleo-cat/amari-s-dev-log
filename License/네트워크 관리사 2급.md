### SubnetMask
#### Scope
![](https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F1c258152-1b69-4be3-8095-8b106095b8ce%2FUntitled.png&blockId=cf328cad-28e7-48cb-bc31-d5c191ed8f4e)

#### 최대 사용 가능한 호스트 수 
한 옥텟의 범위 0~256 / network 부 제외한 host 부만 두고 따진다. / 만약 *255.255.255*.**240** 이면 host 부는 **240**이 되고, <br/> 최대 사용 가능한 호스트 수 &rarr; 256-240-2(0, 15는 제외한다.) = 14개

Q. **호스트의 IP Address가 '201.100.5.68/28' 일 때, Network ID로 올바른 것은?**
호스트의 IP Address가 '201.100.5.68/28' = C Class
prefix가 /28이므로 이것은 1이 28개라는것을 의미.  
&rarr; 11111111.11111111.11111111.11110000 (10진수로는 255.255.255.240)
~~2^0 , 2^1, 2^2, 2^3~~ (0)
*2^4 + 2^5 + 2^6 + 2^7* =240 (1)

#### 클래스
- 루프백 주소 : 네트워크 ID가 127~ 주소 <br/>(= host 자체를 가리키는 주소, 테스트 및 디버깅 용도로 사용된다. *think of localhost(127.0.0.0)*
- A class : 기본 서브넷 마스크로 *255.0.0.0* 을 이용한다.
- B class : 기본 서브넷 마스크로 *255.255.0.0* 을 이용하며
	- 이를 2개의서브넷으로 쪼개면 255.255.128.0이 된다.
- C class : 기본 서브넷 마스크로 *255.255.255.0* 을 이용한다.
- D class : #Multicast 용도 (1:N)
- E class : 연구 용도
---
### Header 구조
- UDP 헤더 : 8bite / source port, destination port, length, checksum
- IPv6 헤더 : version (protocol version), priority, next header, hop limit
- TTL : 패킷의 지속 시간을 의미. 값이 0기 되면 폐기. 8bit
---
### Linux
- GRUB(**GR**and **U**nified **B**ootloader) : Linux 시스템의 부트 로더 (kernel을 로드, 타 OS와의 멀티 부팅 기능을 지원)
 - ROOT : Linux 시스템의 최상위 Directory
 - BASH : Linux 기본 쉘
 - /etc : 사용자 암호 정보가 담긴 Directory 
<br/>
- file permission 
	세 글자씩 끊어서 나타낸다.
	Ex) rwxr-x--x &rarr; rwx | r-x | --x
		- 소유자 (owner) 는 read, write, execute / 4
		- 그룹 (group)은 read, execute / 3
		- 기타 (others)는 execute / 1
- #권한계산
<br/>
- [치환](https://jistol.github.io/linux/2017/01/21/vim-cmd-replace/)
<br/>
- 반복 수행 (crontab)
	0 10 * * 1 /filename.sh &rarr; 매주 월요일 오전 10시 실행
	분 | 시간 | 일 | 월 | 요일
	요일 (0: 일, 1:월 ~)
```bash
	shutdown 옵션 시간
		shutdown -r : 시스템을 재부팅한다.
		shutdown -h: 시스템을 종료한다.
		shutdown -r +5 : 5분 후에 시스템을 재부팅한다.

	chown (change owner) : 파일/디렉토리의 소유자 변경
	chage (change age) : 패스워드 만료일 설정, 계정 활성 상태 변경
	chgrp (change group) : 파일/디렉토리의 그룹 변경
	chmod (change mode) : 파일/디렉토리의 권한 변경
	usermode (user modify) : 사용자 계정의 속성을 변경

	top : 실시간 cpu 사용률, 메모리 사용률 등 정보 표시 (모니터링)
	ps : 프로세스 목록 표시
	kill : 프로세스 종료 / 상태 변경
	nice : 프로세스의 우선 순위 변경
```
---
### Protocol [[TCP IP 4 Layer]] | [[OSI 7 Layer]]

- 기본 기능
	- 캡슐화 : 사용자 정보의 앞,뒤 부분에 헤더와 트레일러를 부가하는 과정

- TCP
	- 전송 계층 프로토콜 (OSI 4)
	- 신뢰성 있는 연결
	- #3-way-handshake 
	 SYN, ACK 는 flag를 의미한다.
	![400](https://images.velog.io/images/been/post/c0328384-27be-48c1-b9e0-ee077ef29b2c/image.png)
- **DNS**
	- TCP, UDP port를 함께 사용하는 프로토콜
- Well known Port
	- FTP 21 (for 오류 제어)
	- SSH 22
	- Telnet (for remote transmission) 23
	- SMTP 25

 - **IEEE 802 Protocol** 🔑 이.버.링.랜
	- LAN 프로토콜
	- IEEE 802.3은 Ethernet을 표준화 #CSMA/CD
	- IEEE 802.4는 토큰 버스 방식 사용
	- IEEE 802.5는 토큰 링 방식 사용
	- IEEE 802.11은 무선 LAN을 표준화 #CSMA/CA
		- WEP (Wired Equivalent Privacy) : 무선급 보안 🔒
		- WPA (Wi-Fi Protected Access) : 무선 데이터 보호 🔒🔒
		- WPA2 🔒🔒🔒

- CSMA/CD (Carrier Sense Multiple Access with ~)
	- 충돌 도메인이 작을수록 좋다.
	- 충돌이 발생하면 임의의 시간 동안 대기하므로 지연 시간을 예측하기 어렵다.
	- 컴퓨터들은 데이터 흐름 유무를 감시하기 위해 특정 신호를 주기적으로 보낸다.
- OSPF #Routing 
	- Dijkstra(다익스트라) 알고리즘 : 최단경로 탐색에 사용하는 기본 알고리즘 [Dijkstra](https://blog.naver.com/ndb796/221234424646)

- **IP** (Internet Protocol) : 인터넷에서 데이터 주소를 지정하고 라우팅하기 위한 요구사항의 집합
	- 네트워크 계층 프로토콜 (OSI 3)
	- 데이터그램을 목적지까지 전달하는 역할
	- 기능
		- **조각화** : MTU 값보다 큰 Datagram은 단편화 작업을 수행할 수 있다. (= max 크기보다 더 큰 데이터그램은 쪼갤 수 있다.)
	- 필드 종류 
		- offset : 단편화된 데이터를 구별하기 위한 필드
		- DF Flag
		- Service type
		- TTL

- **IGMP** (Internet Group Management Protocol) : 여러 장치가 *하나의 IP 주소를 공유*하여 모두 동일한 데이터를 수신할 수 있도록 하는 프로토콜
	- 네트워크 계층 프로토콜 (OSI 3)
	- TTL
	- 비대칭 프로토콜
	- IPv4를 사용하는 네트워크에서 멀티캐스팅을 설정하는 데 사용
	- [IGMP](https://ko.wikipedia.org/wiki/%EC%9D%B8%ED%84%B0%EB%84%B7_%EA%B7%B8%EB%A3%B9_%EA%B4%80%EB%A6%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C)
			
- **ICMP** (Internet Control Message Protocol) : 네트워크 장치 간 *오류 메시지를 전송*하기 위한 프로토콜
	- 네트워크 계층 프로토콜 (OSI 3)
	- 대칭 프로토콜 (송/수신자 모두에서 처리된다.)
	- 예외적으로 발생되는 이벤트에 대해 알리고 지원한다.
	- **Message type**
		- Type 0 - Echo Reply
		- Type 3 - Destination Unreachable
		- Type 4 - Source Quench
		- Type 5 - Redirect Message
		- Type 8 - Echo Request
		- Type 11 - Time Exceeded
		- Type 13 - Timestamp
	- 기능 
		- 네트워크 망간 장비들의 오류 상황에 대해 공유
		- #Tracert (Windows, TraceRoute in Mac & Linux : 인터넷 속도 확인<br/>packet이 목적지까지 도달하는 경로 및 경로의 지연 시간 확인
		- #Ping : 목적지 호스트까지의 응답 시간/연결 상태 확인 <br/> 특정 host에 대한 ICMP echo 요청을 보내는 명령어.
		- #PathPing : tracert의 기능 + hop과 다른 세부 정보 사이의 시간에 관한 정보를 저장한다.

- **ARP** (Address Resolution Protocol) 🔑 IP 주소는 아는데 MAC 주소는 모른다.
	- IP 주소에 #MAC주소 를 매핑하는 프로토콜 
	- Ethernet과 같은 LAN에서 사용되는 브로드캐스트 기능을 이용한다.
								**&udarr;**
- **RARP** (Reverse ARP) 🔑 MAC 주소는 아는데 IP 주소는 모른다.
	- LAN 환경 내 Diskless 시스템이 자신의 MAC 주소에 대한 IP 주소를 획득하기 위해 사용된다.

- SNMP (Simple Network Management Protocol) 
	- 응용 계층 프로토콜 (OSI 7)
	- 네트워크 관리를 위한 표준 프로토콜 (네트워크 장비의 관리 및 감시 기능)
	- UDP 사용

- Routing Table
	- **Longest match rule** : destination IP address와 가장 잘 일치하는 항목을 찾을 때 사용되는 규칙.
	- prefix mask : IP 주소에서 네트워크와 호스트 부분을 나누는데 사용되는 마스크 (네트워크 주소 길이)
	- forwarding : 라우터나 스위치가 수신한 패킷을 적절한 목적지로 보내는 프로세스 (전송)


---
- IPv6 주소 요약
	- 앞쪽에 오는 0은 생략 가능, 0이 연속될 경우 ::으로 축약 가능
	- 2000:00AB:0001:0000:0000:0000:0001:0002 &rarr; 2000:~~00~~AB:~~000~~1:~~0000:0000:0000~~:~~000~~1:~~000~~2 &rarr; 2000:AB:1::1:2
---
### CMD 
#### Windows
- ipconfig : IP 주소, 서브넷 마스크, 게이트웨이 등의 정보 표시 및 구성
- msconfig : 시스템 구성을 수정
- sconfig : 일반적인 작업 수행 시간을 줄여준다. <br/>직관적인 숫자 메뉴 (컴퓨터 이름 변경, 네트워크 설정, 시간 및 날짜 설정)
- netstat : 네트워크 연결 및 상태 표시
	- netstat -r : 라우팅 테이블 표시 (*r*outing table)
	- netstat -a : 모든 네트워크 연결 (all)
	- netstat -n : host 이름을  IP 주소로 표시
	- netstat -s : 네트워크 통계 정보 표시 (statistics)
#### Linux/Unix
- nslookup : domain name을 IP address로 변환
- ifconfig :  IP 주소, 서브넷 마스크, 게이트웨이 등의 정보 표시 및 구성
- show running-config : 라우터가 현재 실행 중인 설정 정보 표시 **RAM**
	- ROM은 라우터의 기본 설정이 저장된 메모리
	- NVRAM은 라우터의 부팅 설정과 기본 설정을 저장하는 메모리 
	- FLASH는 라우터의 운영 체제와 펌웨어가 저장되는 메모리

---
- MTU (Maximum Transmission Unit) : 네트워크에서 전송할 수 있는 최대 데이터그램 크기 
	- 인터넷 IPv4의 경우, 최소 MTU는 576바이트이고 최대 MTU는 65535바이트 <br/> 인터넷 IPv6의 경우, 최소 MTU는 1280바이트이고 최대 MTU는 65535바이트)
	- Ethernet 구현에서 대부분의 IP는 Ethernet V2 프레임의 형식이며 1500 바이트의 값
	- 크기가 고정되어 있지 않다. (네트워크의 물리적 특성에 따라 결정)

---
- VPN (Virtual Private Network) : 가상 사설망. 🔑 암호된 데이터 전송, 가상의 터널
	- IPSec

- 이동 통신 (디지털 셀룰러 시스템)
	- 홈 위치 등록기 - 가입자의 정보를 저장하고 하나의 센터 형식으로 동작하며, 중앙집중 방식. <br/> 가입자 단말의 정보 이외에 위치 정보 등을 영구적으로 저장하는 DB

- WPAN (Wireless Personal Area Network) : 근거리 (휴대기기 간의) 무선 네트워크 구성
	- Bluetooth (802.15.1)
	- UWB (802.15.3) : 고속 (High rate)
	- Zigbee (802.15.4) : 저속 (Low Rate). <br/> 홈 automation 및 유비쿼터스 센서 네트워크 환경 구축에 사용된다.

- NAS (Network-Attached Storage) : 컴퓨터 네트워크에 연결된 파일 수준의 컴퓨터 기억 장치. 서로 다른 네트워크 클라이언트에 데이터 접근 권한을 제공한다.
- Windows Hyper-V : 가상화 기술을 사용하여 하나의 물리 서버에서 여러 개의 가상 서버를 실행할 수 있도록 하는 기술 (H/W 사용율 및 개발 및 테스트의 효율성 &uarr; 유지비용 &darr; )

- BitLocker : Windows에 내장된 전체 디스크 암호화 기능. (하드 디스크의 모든 데이터를 암호화)

- MPLS : 레이블을 사용하여 packet을 라우팅

- NAT : IP 주소를 변환하는 기술 #NAT 

### 네트워크 일반

- WMN (**W**ireless **M**esh **N**etwork) : 인터넷에 연결되지 않은 AP가 연결된 AP에 WDS (무선 분산 시스템)로 연결하여 네트워크를 사용할 수 있는 시스템. &rarr; 네트워크 효율성을 극대화할 수 있는 망

- Optical Fiber Cable (광케이블) : SAN의 성능이 저하됨 > 네트워크 대역폭이 부족한 원인 발견 > 기존 Ethernet 장치를 Optical Fiber Cable을 활용한 걸로 변경
	![](https://wefe.in/wp-content/uploads/2022/02/blog-wefe-30-1024x359.jpg)

- NFV (**N**etwork **F**unctions **V**irtualization) : 네트워킹에 필요한 모든 자원을 추상화하고 자동 제어가 가능케 하는 가상화 기술

- RAID (**R**edundant **A**rray of **I**nexpensive **D**isk) : 저장장치 여러 개를 묶어 고용량, 고성능인 저장 장치 한 개와 같은 효과를 얻기 위해 개발된 기법
	- RAID 0 - *Striping*. 여러 개의 멤버 [하드디스크](https://namu.wiki/w/%ED%95%98%EB%93%9C%EB%94%94%EC%8A%A4%ED%81%AC "하드디스크")를 병렬로 배치하여 거대한 하나의 디스크처럼 사용한다. 
	![400](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbNw0OL%2FbtrtH0ew2Sb%2Fa97Z53Ia35M1m7sEG5AYm1%2Ftfile.svg)
	- RAID 1 - *Mirroring*. 한 시스템 중 한 드라이브에 기록되는 모든 데이터를 다른 드라이브에 복사해 놓는 방법
	![400](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FSuLoS%2FbtrtLAMoCbv%2FKKd9oumNBi5Rq10TfXiQE0%2Ftfile.svg)
- httpd.conf : Apache 서버의 설정 파일 이름
	- Directory 리스팅 방지, 심볼릭 링크 사용 방지, SSI (Server-Side Includes) 사용 제한, CGIt 실행 디렉터리 제한

- NAC : IP로 접근 통제, 시스템 로그 기록되어 있어 공격자 파악 가능
- IPS
- IDS
- /etc/named.conf 파일의 주요 환경설정 항목
	* listen-on: 네임 서버가 *수신*할 수 있는 IP 주소와 포트를 설정
	* directory: 네임 서버의 환경설정 파일, 데이터베이스 파일, 로그 파일 등의 파일이 위치하는 *디렉터리*를 설정
	* dump-file: 도메인 정보의 오류 정보를 출력할 때 사용하는 파일을 설정 
	* allow-query: 클라이언트에 대한 도메인 이름 요청의 허용 여부를 설정 
	* allow-transfer: 다른 네임 서버에 도메인 정보를 전송할 수 있는 허용 여부를 설정 
	* allow-recursion: 클라이언트의 재귀 질의를 허용 여부를 설정 
	* recursion: 네임 서버가 재귀 질의를 수행할 수 있는 여부를 설정 
	* dnssec-enable: 도메인 이름 시스템 보안(DNSSEC)을 활성화 여부를 설정 
	* dnssec-validation: 도메인 이름 시스템 보안(DNSSEC)을 검증할 수 있는 여부를 설정
