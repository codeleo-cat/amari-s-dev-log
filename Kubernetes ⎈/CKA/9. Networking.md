#PracticeTest 

***Explore Environment***

***CNI***

***Deploy Network Solution***

***Networking Weave***

***Service Networking***

***CoreDNS in Kubernetes***

***CKA - Ingress Networking - 1***


***Explore Environment***
- **Internal IP** 
	- 클러스터 내에서 각 node/pod에 할당된 IP주소.
	- node's internal ip : node가 다른 node및 pod와 통신
- **Network Interface** 
	- Node/pod가 네트워크에 연결되기 위해 사용하는 네트워크 인터페이스. ex) eth0
- **MAC Address**
	- 각 네트워크 인터페이스에 할당된 고유 식별자
	- **Node의 MAC Address**: 물리적 또는 가상 네트워크 인터페이스의 고유 식별자로, 네트워크 트래픽을 정확하게 라우팅하는 데 사용

eth - 물리적 interface. host에 연결된 Network Card를 의미.
lo - 루프백.
veth - 가상 Network Interface

---
netstat
-a : 모든 상태에 socket을 포함한다. (all)
-l : listen 상태인 socket만 출력한다.
-n : IP 주소 표시 (호스트 이름과 포트가 숫자 형식 number로 표시)
-p : process명, PID 표시
-t : tcp socket만 출력
-u : udp socket만 출력

---
```sh
1. k get no | wc -l (에서 -1)
2. k get no -o wide
3. ip a | grep 192.16.133.9
4. ip link show eth0
5. k get no -o wide
6. ssh node01
7. ip link show
8. -
9. ip route show default
10. netstat -nplt | grep kube-scheduler
11. netstat -anp | gret etcd
12. -
```

***CNI*** (Container Network Interface)

1. systemctl cat kubelet
2. standard location for the installation of CNI plugins 
	/opt/cni/bin
3. ls -l /opt/cni/bin

CNI plugins (CFWC)
- Calico
- Flannel
- Weave (직물을 짜다. 네트워크를 엮어주다.)
- Cilium


***Deploy Network Solution***
```sh
1. k get po
2. k describe po app
3. k apply -f /root/weave/weave-daemonset-k8s.yaml
(wait for some time...)
6. ip addr show weave
7. ssh node01
ip route
```


***Networking Weave***
```sh
1. k get no
2. ls /etc/cni/net.d
cat /etc/cni/net.d/10-weave.conflist
3. k get po -n kube-system
4.  k get po -n kube-system -o wide
```


***Service Networking***
- range of IP address ~ pod, node -> **ip a**
```sh
1. ip a | grep eth0
2. k get po -A
 k logs weave-net-c2vgm -n kube-system | grep -i adding
 3. k get svc 
 # 10.96.0.1 이니까 Class A 12bit
4. k get po -n kube-system | grep kube-proxy | wc -l
5. k logs kube-proxy-zxqmm -n kube-system | grep proxy
6. Kubernetes cluster ensure that a kube-proxy pod runs on all nodes in the cluster - daemonsets
```



***CoreDNS in Kubernetes***
```sh
1. k get po -n kube-system
2. 
```

***CKA - Ingress Networking - 1***


***CkA - Ingress Networking - 2***


좋았어. 연차 8월 1개 / 10월 2개 쓰자. 1개 정도는 여유로 두고
그러면 6개가 남으니
**12월엔 금금금 연차를 쓰고 26 27 30 (수~월) 쭉 쉬도록 하자.**
